<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interaktive Projektmatrix</title>
    <style>
        /* General styling */
        body {
            font-family: 'Segoe UI', 'Segoe UI Web (West European)', 'Segoe UI', -apple-system, BlinkMacSystemFont, Roboto, 'Helvetica Neue', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #ffffff;
        }

        .matrix-container {
            width: 100%;
            padding: 15px;
            box-sizing: border-box;
        }

        .main-title {
            font-size: 24px;
            color: #004578;
            font-weight: bold;
            margin-top: 0;
            margin-bottom: 20px;
        }

        /* Table styling */
        table {
            width: 100%;
            border-collapse: collapse;
            border-style: hidden;
        }

        th, td {
            border: 1px solid #c8c6c4;
            padding: 0;
            text-align: left;
            vertical-align: middle;
        }

        thead th {
            background-color: #004578;
            color: #ffffff;
            font-weight: bold;
            padding: 10px;
        }
        
        .top-header {
            font-weight: normal;
            text-align: center;
            border-bottom: 1px solid white;
        }

        /* --- Updated: Category Cell Styling --- */
        /* Base style for all category cells */
        td.category-cell {
            font-weight: bold;
            color: #333;
            text-align: center;
            padding: 10px;
            border: 1px solid #c8c6c4;
        }
        
        /* New classes for different category colors */
        .category-color-1 {
            background-color: #e6f3ff; /* A soft blue */
        }
        
        .category-color-2 {
            background-color: #e6ffe6; /* A soft green */
        }

        .category-color-3 {
            background-color: #fffde6; /* A soft yellow */
        }
        
        /* --- Flip Card CSS --- */
        .flip-container {
            perspective: 1000px;
            background-color: transparent;
        }

        .flipper {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.7s;
            transform-style: preserve-3d;
        }

        tr:hover .flipper {
            transform: rotateY(180deg);
        }

        .front, .back {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px;
            box-sizing: border-box;
        }

        .front {
            background-color: #ffffff;
            color: #333;
        }
        
        /* Alternating rows for better readability */
        tr.data-row.odd .front {
            background-color: #f2f2f2;
        }

        tr.data-row.even .front {
            background-color: #ffffff;
        }


        .back {
            background-color: #005a9e;
            color: white;
            transform: rotateY(180deg);
            text-align: center;
        }
        
        /* --- Clickable Link Styling --- */
        a.card-link {
            display: block;
            width: 100%;
            height: 50px;
            text-decoration: none;
            color: inherit;
        }

        .back-content h4 {
            margin: 0 0 5px 0;
        }
        .back-content p {
            margin: 0;
            font-size: 14px;
        }
        
        /* --- Info Bubble Styling --- */
        .info-bubble {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            margin-bottom: 15px;
            padding: 10px;
            background-color: #333;
            color: #fff;
            border-radius: 8px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 10;
        }

        .info-bubble::before {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 8px solid transparent;
            border-right: 8px solid transparent;
            border-top: 8px solid #333;
        }
    </style>
</head>
<body>

    <div class="matrix-container">
        <h1 class="main-title">Weitere Konkretisierung (Verknüpfung mit Projekten)</h1>

        <table>
            <thead>
                <tr>
                    <th class="top-header" colspan="3"></th>
                    <th class="top-header" colspan="6">Zahlt ein auf: (Element aus Zielbild)</th>
                </tr>
                <tr>
                    <th>Kategorie</th>
                    <th>Massnahme</th>
                    <th>Projekt / extern</th>
                    <th>Netzmonitoring</th>
                    <th>Flex</th>
                    <th>dT</th>
                    <th>rNM</th>
                    <th>NOVA</th>
                    <th>...</th>
                </tr>
            </thead>
            <tbody>
                <!-- /// KATEGORIE 1 /// -->
                <tr class="data-row odd">
                    <!-- The category cell now has a new color class -->
                    <td class="category-cell category-color-1" rowspan="2">GEZIELTE VORBEREITUNG</td>
                    
                    <td class="flip-container">
                        <!-- Info bubble moved here -->
                        <div class="info-bubble">
                            POP-UP for content vom Michael. TEST TEST TEST TEST TEST TEST.
                        </div>
                        <a href="https://www.google.com" target="_blank" class="card-link">
                            <div class="flipper">
                                <div class="front">NOVA-Prinzip</div>
                                <div class="back">
                                    <div class="back-content">
                                        <h4>NOVA-Prinzip</h4>
                                        <p>Klicken für Details</p>
                                    </div>
                                </div>
                            </div>
                        </a>
                    </td>
                    <td class="flip-container">
                        <a href="https://www.google.com" target="_blank" class="card-link">
                            <div class="flipper">
                                <div class="front">NOVA-Tool</div>
                                <div class="back">
                                    <div class="back-content"><h4>NOVA-Tool</h4><p>Link zum Projektportal</p></div>
                                </div>
                            </div>
                        </a>
                    </td>
                    <td class="flip-container"><div class="flipper"><div class="front">Wert</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">Wert</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">Wert</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">...</div><div class="back">...</div></div></td>
                </tr>
                <!-- Second row in this category is now 'even' -->
                <tr class="data-row even">
                    <!-- No category cell here, it's covered by rowspan -->
                    <td class="flip-container">
                        <!-- Info bubble moved here -->
                        <div class="info-bubble">
                            POP-UP for content vom Michael. TEST TEST TEST TEST TEST TEST.
                        </div>
                        <a href="https://www.bing.com" target="_blank" class="card-link">
                            <div class="flipper">
                                <div class="front">AutoTAG</div>
                                <div class="back">
                                    <div class="back-content"><h4>AutoTAG</h4><p>Dokumentation öffnen</p></div>
                                </div>
                            </div>
                        </a>
                    </td>
                    <td class="flip-container"><div class="flipper"><div class="front">PF TAG Tool</div><div class="back">Kontaktinfo</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">Wert</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">Wert</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">Wert</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">...</div><div class="back">...</div></div></td>
                </tr>

                <!-- /// KATEGORIE 2 /// -->
                <tr class="data-row odd">
                    <td class="category-cell category-color-2" rowspan="1">FOKUSSIERTE UMSETZUNG</td>
                    <td class="flip-container">
                        <a href="#" target="_blank" class="card-link">
                            <div class="flipper">
                                <div class="front">Intelligente Trafostation</div>
                                <div class="back"><h4>Intelligente Trafostation</h4><p>Details anzeigen</p></div>
                            </div>
                        </a>
                    </td>
                    <td class="flip-container"><div class="flipper"><div class="front">iTs-Rollout</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">Wert</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">Wert</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">Wert</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">...</div><div class="back">...</div></div></td>
                </tr>
                
                <!-- /// KATEGORIE 3 /// -->
                <tr class="data-row odd">
                    <td class="category-cell category-color-3" rowspan="1">AKTIVE GESTALTUNG</td>
                    <td class="flip-container">
                        <a href="#" target="_blank" class="card-link">
                            <div class="flipper">
                                <div class="front">Dynamische Tariffe</div>
                                <div class="back"><h4>Dynamische Tariffe</h4><p>Details anzeigen</p></div>
                            </div>
                        </a>
                    </td>
                    <td class="flip-container"><div class="flipper"><div class="front">Tariffe</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">Wert</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">Wert</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">Wert</div><div class="back">Beschreibung</div></div></td>
                    <td class="flip-container"><div class="flipper"><div class="front">...</div><div class="back">...</div></div></td>
                </tr>
            </tbody>
        </table>
    </div>
    <script>
        // Get the specific Massnahme cell with the info bubble
        const massnahmeCell = document.querySelector('td.flip-container');
        const infoBubble = massnahmeCell.querySelector('.info-bubble');

        if (massnahmeCell && infoBubble) {
            massnahmeCell.addEventListener('mouseover', () => {
                infoBubble.style.opacity = '1';
                infoBubble.style.pointerEvents = 'auto';
            });
            massnahmeCell.addEventListener('mouseout', () => {
                infoBubble.style.opacity = '0';
                infoBubble.style.pointerEvents = 'none';
            });
        }
    </script>

</body>
</html>
